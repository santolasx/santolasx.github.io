<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>SANTOLAS Chat</title>
</head>
<body>

<div id="login">
  <input id="name" placeholder="ƒ∞smini yaz">
  <button onclick="login()">Giri≈ü</button>
</div>

<div id="chat" style="display:none">
  <div id="messages"></div>
  <input id="msg" placeholder="Mesaj yaz">
  <button onclick="send()">G√∂nder</button>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  // üî¥ BURAYA KENDƒ∞ FIREBASE CONFIG'ƒ∞Nƒ∞ KOY
  const firebaseConfig = {
    apiKey: "API_KEY",
    authDomain: "XXXX.firebaseapp.com",
    projectId: "XXXX",
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  let username = "";

  function login() {
    username = document.getElementById("name").value;
    if (!username) return;
    document.getElementById("login").style.display = "none";
    document.getElementById("chat").style.display = "block";
  }

  function send() {
    const text = document.getElementById("msg").value;
    if (!text) return;
    db.collection("messages").add({
      user: username,
      text: text,
      time: Date.now()
    });
    document.getElementById("msg").value = "";
  }

  db.collection("messages")
    .orderBy("time")
    .onSnapshot(snap => {
      document.getElementById("messages").innerHTML = "";
      snap.forEach(doc => {
        const m = doc.data();
        document.getElementById("messages").innerHTML +=
          `<p><b>${m.user}:</b> ${m.text}</p>`;
      });
    });
</script>

</body>
</html>
